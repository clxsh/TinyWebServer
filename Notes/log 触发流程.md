## 一行 LOG 的产生

一切始于 `Logger.h` 中的宏定义 `LOG` ，传递文件名称和行号参数会产生 `class Logger` 的临时对象，其中内含一个 `class Impl` 对象，`class Impl` 对象构造函数设置文件名称和行号，并调用 `formatTime()` 函数，在 stream 中生成时间戳，接着用户自定义的输入，`Logger` 的析构函数添加文件和行号等信息。最终调用 `output` 函数将数据添加于 `class AsyncLogging` 待写入文件缓冲之中。

**（有必要每次产生临时对象生成一条日志吗？这未免过于繁重了吧。维持一个全局对象，每次使用不可以吗？）** 有线程安全方面的考虑，是否有优化空间？

## 锁

频繁用的两个锁，1. 往 `asyncLogging` 中添加日志；2. 往文件中写日志

